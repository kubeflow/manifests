# Production values for kubeflow-pipelines.
# This configuration is optimized for production deployments

# Global configuration
global:
  namespace: kubeflow
  logLevel: "info"

# Production resource settings
apiServer:
  replicas: 3
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 2Gi

persistenceAgent:
  replicas: 2
  resources:
    requests:
      cpu: 250m
      memory: 500Mi
    limits:
      cpu: 1000m
      memory: 1Gi

scheduledWorkflow:
  replicas: 2
  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 512Mi

ui:
  replicas: 2
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
    limits:
      cpu: 500m
      memory: 500Mi

# High availability database
mysql:
  enabled: false

postgresql:
  enabled: false

# Use external database in production
externalDatabase:
  type: mysql
  host: "production-db-host"
  port: 3306
  database: "mlpipeline"
  username: "mlpipeline"
  existingSecret: "mysql-secret"

# Use external object storage
objectStore:
  provider: s3
  s3:
    region: "us-west-2"
    bucket: "production-kfp-artifacts"
    existingSecret: "s3-credentials"

minio:
  enabled: false

# Enable monitoring
monitoring:
  prometheus:
    enabled: true
    serviceMonitor:
      enabled: true
  grafana:
    enabled: true

# Enable security features
security:
  podSecurityStandards:
    enabled: true
    enforce: "restricted"

# Enable Istio for production
networking:
  istio:
    enabled: true
    gateway: "kubeflow-gateway"

# Enable webhooks
webhook:
  enabled: true
  mutating:
    enabled: true
  validating:
    enabled: true
