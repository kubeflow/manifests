apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../base
- virtual-service.yaml
- authorizationpolicy.yaml
namespace: kubeflow
replacements:
- source:
    fieldPath: metadata.name
    kind: Service
    name: centraldashboard
    version: v1
  targets:
  - fieldPaths:
    - spec.rules.0.backendRefs.0.name
    select:
      group: gateway.networking.k8s.io
      kind: HTTPRoute
      name: centraldashboard
      version: v1beta1
configurations:
- params.yaml
labels:
- includeSelectors: true
  pairs:
    app: centraldashboard
    app.kubernetes.io/component: centraldashboard
    app.kubernetes.io/name: centraldashboard
    kustomize.component: centraldashboard
