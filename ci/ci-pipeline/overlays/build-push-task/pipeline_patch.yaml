- op: add
  path: /spec/tasks/-
  value:
    name: build-push 
    taskRef:
      name: build-push
    resources:
      inputs:
      - name: kubeflow
        resource: kubeflow
      outputs:
      - name: kubeflow
        resource: kubeflow
      - name: $(image_name)
        resource: $(image_name)
    params:
    - name: imageName
      value: "$(image_name)"
    - name: pathToDockerfile
      value: "$(path_to_docker_file)"
    - name: pathToContext
      value: "$(path_to_context)"
    - name: dockerTarget
      value: "$(docker_target)"
- op: add
  path: /spec/resources/-
  value:
    name: kubeflow
    type: git
- op: add
  path: /spec/resources/-
  value:
    name: $(image_name)
    type: image
