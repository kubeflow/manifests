# Values for production deployment with high availability
deploymentMode: kubeflow

nameOverride: "notebook-controller"

global:
  namespace: kubeflow
  imageRegistry: ghcr.io/kubeflow/kubeflow
  imageTag: v1.10.0

commonLabels:
  app: notebook-controller
  kustomize.component: notebook-controller

controller:
  # Multiple replicas for HA
  replicas: 2
  
  config:
    useIstio: true
    istioGateway: "kubeflow/kubeflow-gateway"
    istioHost: "*"
    clusterDomain: "cluster.local"
    enableCulling: true
    cullIdleTime: "720"  # 12 hours for production
    idlenessCheckPeriod: "5"  # Check every 5 minutes
  
  # Resource limits for production
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
  authProxy:
    enabled: true
    resources:
      limits:
        cpu: 100m
        memory: 64Mi
      requests:
        cpu: 50m
        memory: 32Mi

# Production services
service:
  enabled: true
metricsService:
  enabled: true

# High availability features
podDisruptionBudget:
  enabled: true
  minAvailable: 1

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

# Production monitoring
monitoring:
  enabled: true
  prometheus:
    enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s

# Network security
networkPolicies:
  enabled: true
  policyTypes:
    - Ingress
    - Egress

# Kustomize compatibility
kustomizeMode:
  enabled: true
  useOriginalLabels: true
  useOriginalNames: true

samples:
  enabled: false