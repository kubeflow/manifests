# Kubeflow Authentication using OIDC

## Istio Envoy Filter

> EnvoyFilter provides a mechanism to customize the Envoy configuration generated by Istio Pilot. Use EnvoyFilter to modify values for certain fields, add specific filters, or even add entirely new listeners, clusters, etc.[^1]

Kubeflow will use an Envoy Filter for every incoming request when is used
with `oidc-authservice`. 

Usage of EnvoyFilter is currently not recommended. Istio recommended way of
configuring External Authentication[^2] is with `envoyExtAuthzHttp` extension
provider.

Envoy Filter is configured with [oidc-authservice](https://github.com/arrikto/oidc-authservice) 


## Istio envoyExtAuthzHttp

This is the recommended way to configure External Authorization[^2] with Istio.
While this method is not only bound to usage of `oauth2-proxy`[^3], it's an industry
standard that fulfills all of Kubeflow currently required and forseeable
authentication requirements.

For more information on how this integration is used, please reference
[oauth2-proxy/README.md](oauth2-proxy/README.md).

[^1]: [Envoy Filter](https://istio.io/latest/docs/reference/config/networking/envoy-filter/)
[^2]: [External Authorization](https://istio.io/latest/docs/tasks/security/authorization/authz-custom/)
[^3]: [oauth2-proxy ](https://github.com/oauth2-proxy/oauth2-proxy)