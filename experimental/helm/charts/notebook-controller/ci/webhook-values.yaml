# Values for webhook-enabled deployment mode
deploymentMode: kubeflow

nameOverride: "notebook-controller"

global:
  namespace: kubeflow
  imageRegistry: ghcr.io/kubeflow/kubeflow
  imageTag: v1.10.0

# Common labels 
commonLabels:
  app: notebook-controller
  kustomize.component: notebook-controller

controller:
  config:
    useIstio: true
    istioGateway: "kubeflow/kubeflow-gateway"
    istioHost: "*"
    clusterDomain: "cluster.local"
    enableCulling: false
    cullIdleTime: "1440"
    idlenessCheckPeriod: "1"
  
  manager:
    enableLeaderElection: true
    metricsAddr: "127.0.0.1:8080"
    healthProbeAddr: ":8081"
  
  # Enable auth proxy for metrics protection
  authProxy:
    enabled: true
  
  # Enable webhook server
  webhook:
    enabled: true
    port: 443
    certSecretName: webhook-server-cert

# Enable all services
service:
  enabled: true
metricsService:
  enabled: true

# Enable certificate management
certificates:
  enabled: true
  issuer: "kubeflow-selfsigned-issuer"

# RBAC with webhook permissions
rbac:
  create: true
  authProxy:
    enabled: true
  leaderElection:
    enabled: true

# CRD management with webhook patches
crds:
  install: true
  webhook:
    enabled: true

# Kustomize compatibility
kustomizeMode:
  enabled: true
  useOriginalLabels: true
  useOriginalNames: true

samples:
  enabled: false