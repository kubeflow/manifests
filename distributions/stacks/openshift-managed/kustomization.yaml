apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: kubeflow

resources:
  - ../../../common/kubeflow-roles/base # Kubeflow roles
  - ../../../common/istio-1-9-0/kubeflow-istio-resources/base # Virtual gateway

configMapGenerator:
  - name: kubeflow-config
    envs:
      - ./config/params.env

vars:
  - fieldref:
      fieldPath: data.clusterDomain
    name: clusterDomain
    objref:
      apiVersion: v1
      kind: ConfigMap
      name: kubeflow-config
  - fieldref:
      fieldPath: metadata.namespace
    name: namespace
    objref:
      apiVersion: v1
      kind: ConfigMap
      name: kubeflow-config

images:
  - name: public.ecr.aws/j1r0q0g6/notebooks/profile-controller
    newName: quay.io/kubeflow/profile-controller
    newTag: v0.8.0
