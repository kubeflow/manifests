apiVersion: kfdef.apps.kubeflow.org/v1alpha1
kind: KfDef
metadata:
  name: kubeflow_app
  namespace: kubeflow-ci
spec:
  repos:
  - name: manifests
    root: 
    uri: https://github.com/kubeflow/manifests/archive/pull/328/head.tar.gz
  - name: kubeflow
    root: kubeflow-master
    uri: https://github.com/kubeflow/kubeflow/archive/master.tar.gz
  applications:
  - kustomizeConfig:
#      overlays:
#      - application
#      parameters:
#      - name: generateName
#        value: application-crds-
      repoRef:
        name: manifests
        path: application/application-crds
    name: application-crds
  - kustomizeConfig:
      overlays:
      - application
      parameters:
      - name: generateName
        value: kubeflow-
      repoRef:
        name: manifests
        path: application/application
    name: application
  - kustomizeConfig:
      overlays:
      - application
      parameters:
      - name: namespace
        value: tekton-pipelines
      - name: generateName
        value: tektoncd-crds-
      repoRef:
        name: manifests
        path: tektoncd/tektoncd-crds
    name: tektoncd-crds
  - kustomizeConfig:
      overlays:
      - application
      parameters:
      - name: namespace
        value: tekton-pipelines
      - name: generateName
        value: tektoncd-install-
      - name: registry
        value: gcr.io/tekton-releases
      repoRef:
        name: manifests
        path: tektoncd/tektoncd-install
    name: tektoncd-install
  - kustomizeConfig:
      overlays:
      - application
      parameters:
      - name: generateName
        value: -
      - name: kfctl_image
        value: "gcr.io/constant-cubist-173123/kfctl@sha256:ab0c4986322e3e6a755056278c7270983b0f3bdc0751aefff075fb2b3d0c3254"
      - name: app_dir
        value: kubeflow-ci
      - name: project
        value: constant-cubist-173123
      - name: cluster
        value: kubeflow-ci
      - name: zone
        value: us-west1-a
      - name: configPath
        value: "https://raw.githubusercontent.com/kkasravi/manifests/e2e-pipelineruns/kfdef/gcp/ci_cluster.yaml"
      - name: email
        value: kfctl-e2e@constant-cubist-173123.iam.gserviceaccount.com
      - name: platform
        value: all
      repoRef:
        name: manifests
        path: ci/ci-create-cluster
    name: ci-create-cluster
  enableApplications: true
  packageManager: kustomize
  skipInitProject: true
  useBasicAuth: false
  useIstio: false
  version: master
