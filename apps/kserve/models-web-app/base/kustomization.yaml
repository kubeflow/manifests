apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- rbac.yaml
- service.yaml
- deployment.yaml
- istio.yaml

namespace: kserve


images:
- name: kserve/models-web-app
  newName: ghcr.io/kserve/models-web-app
  newTag: v0.14.0
configMapGenerator:
- literals:
  - APP_DISABLE_AUTH="True"
  name: kserve-models-web-app-config
helmCharts:
- name: spark-operator
  repo: https://kubeflow.github.io/spark-operator
  version: 2.1.1
  releaseName: spark-operator
  includeCRDs: true
  valuesInline:
    spark.jobNamespaces: {} # To match the synchronize script
    webhook.enable: true
    webhook.port: 9443

labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/component: kserve-models-web-app
    kustomize.component: kserve-models-web-app
